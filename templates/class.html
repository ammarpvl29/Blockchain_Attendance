<!DOCTYPE html>
<link rel="stylesheet" href="{{ url_for('static', filename='css/materialize.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script type="text/javascript" src="{{ url_for('static', filename='js/materialize.js') }}"></script>

<title>Blockendance</title>

<body class="blue-grey lighten-4">
    <div class="container">
        <nav>
            <div class="nav-wrapper blue-grey darken-1">
                <a href="#" class="brand-logo center">Class Details</a>
            </div>
        </nav>
        
        {% if name %}
        <h4>Hello {{ name }}, enter the details of the class</h4>
        {% endif %}
        
        <div class="row">
            <form class="col s12" id="form" name="form" action="/" method="post">
                <div class="row">
                    {% if not name %}
                    <div class="input-field col s12">
                        <label for="name">Your name</label>
                        <input type="text" id="name" name="name" value="">
                    </div>
                    {% endif %}
                    <div class="input-field col s12">
                        <label for="number">Total Number of Students</label>
                        <input type="number" id="number" name="number" value="50">
                    </div>
                    <div class="input-field col s12">
                        <select id="course" name="course">
                            <option value="CBK3LAB3">CBK3LAB3</option>
                            <option value="CBK4HBB3">CBK4HBB3</option>
                            <option value="CBK5ABB3">CBK5ABB3</option>
                            <option value="CBK4AAA2">CBK4AAA2</option>
                            <option value="CBK4CBB3">CBK4CBB3</option>
                            <option value="CBK3HAB3">CBK3HAB3</option>
                            <option value="UBKXACB2">UBKXACB2</option>
                        </select>
                        <label for="course">Course Code</label>
                    </div>
                    <div class="input-field col s12">
                        <select id="class" name="class">
                            <option value="S1IT-22-001">S1IT-22-001</option>
                            <option value="S1IT-22-002">S1IT-22-002</option>
                        </select>
                        <label for="class">Class</label>
                    </div>
                    <div class="input-field col s12">
                        <label for="date">Date</label>
                        <input class="datepicker" type="text" id="date" name="date" value="{{ date }}">
                    </div>
                    <div class="input-field col s12">
                        <select id="session" name="session">
                            <option value="1">Session 1</option>
                            <option value="2">Session 2</option>
                            <option value="3">Session 3</option>
                        </select>
                        <label for="session">Session Number</label>
                    </div>
                    <div class="row">
                        <div class="col s6">
                            <a class="btn waves-effect waves-light red" href="/">Cancel
                                <i class="material-icons right">cancel</i>
                            </a>
                        </div>
                        <div class="col s6 right-align">
                            <button class="btn waves-effect waves-light" type="submit" name="action">Next
                                <i class="material-icons right">send</i>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script type="text/javascript">
    var form = document.getElementById("form") || null;
    if(form) {
        form.action = window.location.pathname;
    }
    var dpelem = document.querySelector('.datepicker');
    var dpinstance = M.Datepicker.init(dpelem, {format:'yyyy-mm-dd'});
    var selects = document.querySelectorAll('select');
    selects.forEach(function(select) {
        M.FormSelect.init(select, {});
    });
    </script>
</body>